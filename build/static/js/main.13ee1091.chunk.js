(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(7),c=a.n(l),u=a(5),o=a(4),i=a.n(o),m=a(8),s=a(1),f=Object(n.createContext)();var p=function(e){var t=e.children,a=Object(n.useState)([]),l=Object(s.a)(a,2),c=l[0],o=l[1],p=Object(n.useState)([]),b=Object(s.a)(p,2),E=b[0],d=b[1],v=Object(n.useState)(!1),h=Object(s.a)(v,2),j=h[0],O=h[1],g=Object(n.useState)({filterByName:{name:""}}),y=Object(s.a)(g,2),N=y[0],C=y[1],S=Object(n.useState)(["population","orbital_period","diameter","rotation_period","surface_water"]),k=Object(s.a)(S,2),x=k[0],w=k[1],q=Object(n.useState)("population"),P=Object(s.a)(q,2),_=P[0],I=P[1],R=Object(n.useState)("maior que"),B=Object(s.a)(R,2),F=B[0],D=B[1],A=Object(n.useState)(0),J=Object(s.a)(A,2),V=J[0],G=J[1],L=Object(n.useState)([]),T=Object(s.a)(L,2),W=T[0],X=T[1],Z=function(){var e=Object(m.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://swapi-trybe.herokuapp.com/api/planets/");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.results,o(n),d(n),O(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){Z()}),[]),Object(n.useEffect)((function(){console.log(W),function(){if(!(W.length>0))return d(c);W.map((function(e){var t=e.column,a=e.comparison,n=e.value;if("maior que"===a){var r=E.filter((function(e){return Number(e[t])>Number(n)}));return d(r)}if("menor que"===a){var l=E.filter((function(e){return Number(e[t])<Number(n)}));return d(l)}if("igual a"===a){var c=E.filter((function(e){return Number(e[t])===Number(n)}));return d(c)}return"ERROR"}))}()}),[W]),Object(n.useEffect)((function(){!function(){var e=c.filter((function(e){return e.name.includes(N.filterByName.name.toLowerCase())}));d(e)}()}),[N,c]),r.a.createElement(f.Provider,{value:{planetDataStorage:E,fetchStatus:j,filterPlanets:function(){X((function(e){return[].concat(Object(u.a)(e),[{column:_,comparison:F,value:V}])}));var e=x.filter((function(e){return e!==_}));w(e)},options:x,filterArray:W,removeFilters:function(){X([])},removeItem:function(e){var t=W.filter((function(t){return t!==e}));X(t),d(c),w((function(t){return[e.column].concat(Object(u.a)(t))}))},value:V,column:_,comparison:F,setValue:G,setComparison:D,setColumn:I,setInput:C}},t)};a(15);var b=function(){var e=Object(n.useContext)(f),t=e.planetDataStorage,a=e.fetchStatus,l=e.filterPlanets,c=e.options,u=e.filterArray,o=e.removeFilters,i=e.removeItem,m=e.value,s=e.column,p=e.comparison,b=e.setValue,E=e.setComparison,d=e.setColumn,v=e.setInput;return r.a.createElement("section",null,r.a.createElement("header",{className:"logo-header"},r.a.createElement("img",{className:"logo",src:"https://i.imgur.com/Z70vbgv.png",alt:"logo"})),r.a.createElement("section",{className:"input-div"},r.a.createElement("input",{className:"main-input","data-testid":"name-filter",type:"text",onChange:function(e){return v({filterByName:{name:e.target.value}})}})),r.a.createElement("section",{className:"menu"},r.a.createElement("select",{"data-testid":"column-filter",value:s,onClick:function(e){return d(e.target.value)},onChange:function(e){return d(e.target.value)}},c.map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)}))),r.a.createElement("select",{"data-testid":"comparison-filter",value:p,onChange:function(e){return E(e.target.value)}},r.a.createElement("option",{value:"maior que"},"maior que"),r.a.createElement("option",{value:"menor que"},"menor que"),r.a.createElement("option",{value:"igual a"},"igual a")),r.a.createElement("input",{type:"number","data-testid":"value-filter",value:m,onChange:function(e){return b(e.target.value)}}),r.a.createElement("button",{type:"button","data-testid":"button-filter",onClick:l},"Filtrar"),r.a.createElement("button",{"data-testid":"button-remove-filters",type:"button",onClick:o},"Remover Filtros")),r.a.createElement("section",{className:"filters"},u.map((function(e){return r.a.createElement("div",{"data-testid":"filter",key:e.column,className:"filter-container"},r.a.createElement("p",null,"".concat(e.column,"  ").concat(e.comparison," ").concat(e.value)),r.a.createElement("button",{type:"button",onClick:function(){return i(e)}},"X"))}))),r.a.createElement("section",{class:"table"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Rotation Period"),r.a.createElement("th",null,"Orbital Period"),r.a.createElement("th",null,"Diameter"),r.a.createElement("th",null,"Climate"),r.a.createElement("th",null,"Gravity"),r.a.createElement("th",null,"Terrain"),r.a.createElement("th",null,"Surface Water"),r.a.createElement("th",null,"Population"))),r.a.createElement("tbody",null,a&&t.map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.rotation_period),r.a.createElement("td",null,e.orbital_period),r.a.createElement("td",null,e.diameter),r.a.createElement("td",null,e.climate),r.a.createElement("td",null,e.gravity),r.a.createElement("td",null,e.terrain),r.a.createElement("td",null,e.surface_water),r.a.createElement("td",null,e.population))}))))))};var E=function(){return r.a.createElement(p,null,r.a.createElement(b,null))};c.a.render(r.a.createElement(E,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.13ee1091.chunk.js.map